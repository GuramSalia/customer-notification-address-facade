<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Generate Payload for Customer Report - Pagination - Opted-In for Promotional Messages</title>
    <link rel="stylesheet" href="/assets/css/style.css">
</head>
<body>
<div th:replace="~{header :: header}">...</div>

<h2>Generate Payload for Customer Report - Pagination - Opted-In for Promotional Messages</h2>

<form id="optedInPromotionalMessagesReportForm" class="form" action="/customers/report/pagination/opted-in-promotional-messages/{optedIn}" method="get">
    <label for="optedIn">Opted-In:</label>
    <select id="optedIn" name="optedIn" required>
        <option value="true">Yes</option>
        <option value="false">No</option>
    </select>
    <br><br>

    <label for="page">Page:</label>
    <input type="number" id="page" name="page" value="0" required>
    <br><br>

    <label for="size">Page Size:</label>
    <input type="number" id="size" name="size" value="10" required>
    <br><br>

    <label for="sortField">Sort Field:</label>
    <select id="sortField" name="sortField">
        <option value="id">ID</option>
        <option value="username">Name</option>
    </select>
    <br><br>

    <label for="sortDirection">Sort Direction:</label>
    <select id="sortDirection" name="sortDirection">
        <option value="asc">Ascending</option>
        <option value="desc">Descending</option>
    </select>
    <br><br>

    <button type="submit">Generate Report</button>
</form>

<div th:replace="~{footer :: footer}">...</div>

<script>
    document.getElementById('optedInPromotionalMessagesReportForm').addEventListener('submit', function(event) {
        event.preventDefault();

        const optedIn = document.getElementById('optedIn').value;
        const page = document.getElementById('page').value;
        const size = document.getElementById('size').value;
        const sortField = document.getElementById('sortField').value;
        const sortDirection = document.getElementById('sortDirection').value;

        if (optedIn) {
            window.location.href = `/customers/report/pagination/opted-in-promotional-messages/${optedIn}?page=${page}&size=${size}&sortField=${sortField}&sortDirection=${sortDirection}`;
        } else {
            alert('Please select whether customers are opted-in for promotional messages.');
        }
    });
</script>


</body>
</html>
